<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1">
      <div class="row page-header">
        <h1 style="display:inline-block">Available tasks</h1>
        <a id="newTask" class="btn btn-primary pull-right" data-ng-click="newTask()" value="New Task" style="margin-top:25px"><i class ="glyphicon glyphicon-plus"></i>            New Task</a>
      </div>
      <div class="row" data-ng-controller="TaskTableController">
        <table id="task-table" data-ng-if="!emptyTasks()" class="table table-striped table-hover" data-st-table="displayedTasks" data-st-safe-src="safeTasks">
            <thead>
              <tr>
                <th data-st-sort="title" class="table-header"><span>Task</span></th>
                <th data-st-sort="price" class="table-header"><span>Price</span></th>
    		        <th data-st-sort="expiration" class="table-header"><span>Time Left</span></th>
                <th class="table-header">
                  <span style="cursor:text">Requirements</span>
                  <div class="btn-group" uib-dropdown is-open="status.isopen" auto-close="outsideClick">
                    <button id="single-button" type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="disabled" style="padding:0px 3px">
                      Filter <span class="caret"></span>
                    </button>
                    <ul uib-dropdown-menu role="menu"  aria-labelledby="single-button">
                      <li role="menuitem" class="req-li">
                        <input type="checkbox" style="margin-right:5px" ng-model="requirementsShown.car" data-ng-click="applyFilters()">Car
                          <sm-button>
                            <span title="Requires Car"><img class="png-icon" src="/js/views/requiresCar.png" style="height: 14px; margin-left:5px"></span>
                          </sm-button>
                      </li>
                      <li role="menuitem" class="req-li">
                        <input type="checkbox" style="margin-right:5px" ng-model="requirementsShown.purchase" data-ng-click="applyFilters()">Purchase
                          <sm-button>
                            <span title="Requires Purchase"><img class="png-icon" src="/js/views/requiresPurchase.png" style="height: 19px; margin-left:5px"></span>
                          </sm-button>
                      </li>
                      <li role="menuitem" class="req-li">
                        <input type="checkbox" style="margin-right:5px" ng-model="requirementsShown.physical" data-ng-click="applyFilters()">Physical activity
                          <sm-button data-ng-click="applyFilters()">
                            <span title="Requires Lifting"><img class="png-icon" src="/js/views/requiresLifting.png" style="height: 19px; margin-left:5px"></span>
                          </sm-button>
                      </li>
                    </ul>
                  </div>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr data-ng-repeat="task in displayedTasks" data-ng-click="openTaskModal(task)" class="taskRow">
                <td data-ng-bind="task.title"></td>
                <td data-ng-bind="task.price"></td>
    			      <td data-ng-bind="taskCode.timeRemaining(task.expiration)"></td>
                <td>
                  <sm-button>
                    <span title="Requires Car"><img class="png-icon" data-ng-if="task.requiresCar == true" src="/js/views/requiresCar.png" style="width: 23px; height: 18px; margin-left:5px"></span>
                  </sm-button>
                  <sm-button>
                    <span title="Requires Purchase"><img class="png-icon" data-ng-if="task.requiresPurchase == true" src="/js/views/requiresPurchase.png" style="width: 23px; height: 20px; margin-left:5px"></span>
                  </sm-button>
                  <sm-button>
                    <span title="Requires Lifting"><img class="png-icon" data-ng-if="task.requiresLifting == true" src="/js/views/requiresLifting.png" style="width: 20px; height: 20px; margin-left:5px"></span>
                  </sm-button>
                </td>
              </tr>
            </tbody>
            <tfoot>
              <tr>
                <td colspan="5" class="text-center">
                  <div data-st-pagination="" data-st-items-by-page="itemsByPage" data-st-displayed-pages="7"></div>
                </td>
              </tr>
            </tfoot>
        </table>
        <h3 data-ng-if="emptyTasks()" style="color:grey">No tasks to display</h3>
      </div>
    </div>
  </div>
</div>
